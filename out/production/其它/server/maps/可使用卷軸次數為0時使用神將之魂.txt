搜索：

        if (!GameConstants.isSpecialScroll(scroll.getItemId()) && !GameConstants.isCleanSlate(scroll.getItemId()) && !GameConstants.isEquipScroll(scroll.getItemId()) && !GameConstants.isPotentialScroll(scroll.getItemId())) {
            if (toScroll.getUpgradeSlots() < 1) {
                c.getSession().write(InventoryPacket.getInventoryFull());
                c.getSession().write(MaplePacketCreator.enableActions());
                System.out.println("測試3");
                return false;
            }


替換：

        if (!GameConstants.isSpecialScroll(scroll.getItemId()) && !GameConstants.isCleanSlate(scroll.getItemId()) && !GameConstants.isEquipScroll(scroll.getItemId()) && !GameConstants.isPotentialScroll(scroll.getItemId())) {
            if (toScroll.getUpgradeSlots() < 1) {
                if (legendarySpirit) {
                    c.getPlayer().getMap().broadcastMessage(EtcPacket.getScrollEffect(c.getPlayer().getId(), Equip.ScrollResult.FAIL, legendarySpirit, false));
                }
                c.getSession().write(InventoryPacket.getInventoryFull());
                c.getSession().write(MaplePacketCreator.enableActions());
                System.out.println("測試3");
                return false;
            }